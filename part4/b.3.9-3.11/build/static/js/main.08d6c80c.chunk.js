(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var s=n(14),r=n.n(s),c=n(3),o=n(2),a=n(4),i=n.n(a),u="https://project-person-api.herokuapp.com/persons",j=n(0),b=function(e,t){var n=e.person,s=function(){var e;window.confirm("Delete ".concat(n.name,"?"))&&(e=n.id,i.a.delete("".concat(u,"/").concat(e))).then((function(){t.setPersons(n.filter((function(e){return e!==e.id})))})).catch((function(e){console.log(e)}))};return console.log(s),Object(j.jsxs)("div",{children:[n.name," ",n.number,Object(j.jsx)("button",{onClick:s,children:"Delete"})]})},l=function(e){e.useEffect((function(){i.a.get(u).then((function(t){e.setPersons(t.data)}))}),[]);return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),e.persons.find((function(t){return t.name===e.newName&&t.number===e.newNumber})))e.setErrorMessage("".concat(e.newName," is already added to phonebook")),setTimeout((function(){e.setErrorMessage(null)}),5e3);else{var n={name:e.newName,number:e.newNumber};(s=n,i.a.post(u,s)).then((function(t){e.setPersons(e.persons.concat(t.data)),e.setNewNumber(),e.setNewName(""),e.setErrorMessage("Added ".concat(e.newName)),setTimeout((function(){e.setErrorMessage(null)}),5e3)})).catch((function(e){console.log(e)}))}var s},children:[Object(j.jsxs)("div",{children:["name: ",Object(j.jsx)("input",{value:e.newName,onChange:function(t){e.setNewName(t.target.value)}})]}),Object(j.jsxs)("div",{children:["number:",Object(j.jsx)("input",{value:e.newNumber,onChange:function(t){e.setNewNumber(t.target.value)}})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",children:"add"})})]})})},d=function(e){var t=e.persons.filter((function(t){return t.name.includes(e.filterNames)})),n=function(e){var t=e.person;return Object(j.jsx)("li",{children:t.name})};return Object(j.jsxs)("div",{children:["filter shown with",Object(j.jsx)("input",{type:"text",placeholder:"search",onChange:function(t){e.setFilterNames(t.target.value)}}),Object(j.jsx)("div",{children:t.map((function(e){return Object(j.jsx)(n,{person:e},e.id)}))})]})},m=(n(38),function(e){var t=e.message;return null===t?null:Object(j.jsx)("div",{className:"error",children:t})}),f=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],s=t[1],r=Object(o.useState)(""),a=Object(c.a)(r,2),i=a[0],u=a[1],f=Object(o.useState)(""),h=Object(c.a)(f,2),O=h[0],p=h[1],N=Object(o.useState)(!1),x=Object(c.a)(N,2),v=x[0],w=x[1],g=Object(o.useState)(""),E=Object(c.a)(g,2),k=E[0],P=E[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(m,{message:k}),Object(j.jsx)("h2",{children:"Phonebook"}),Object(j.jsx)(d,{setFilterNames:w,filterNames:v,persons:n}),Object(j.jsx)("h3",{children:"Add a new"}),Object(j.jsx)(l,{persons:n,setPersons:s,newName:i,setNewName:u,newNumber:O,setNewNumber:p,useEffect:o.useEffect,setErrorMessage:P}),Object(j.jsx)("h2",{children:"Numbers"}),n.map((function(e){return Object(j.jsx)(b,{person:e,setPersons:s},e.id)}))]})};r.a.render(Object(j.jsx)(f,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.08d6c80c.chunk.js.map